---
name: cve-design-system-compat
description: Enforce compatibility with the CVE design-system token schema, variable mapping, and theme workflows.
license: MIT
compatibility: opencode
metadata:
  audience: cve-contributors
  domain: compatibility
---
<skill_contract id="cve-design-system-compat" strict_order="true">
  <scope>
    <source path="~/Projects/nvim/synapsys-cve/packages/design-system/src/tokens/index.ts" />
    <source path="~/Projects/nvim/synapsys-cve/packages/design-system/src/theme/*" />
    <source path="~/Projects/nvim/synapsys-cve/packages/design-system/src/preset.css" />
  </scope>

  <token_contract>
    <colors required="true">primary, secondary, accent, success, warning, error, info, neutrals-50-to-950</colors>
    <typography required="true">font families, sources, weights, and scale keys</typography>
    <spacing required="true">xs to 3xl</spacing>
    <border_radius required="true">none to full</border_radius>
  </token_contract>

  <mapping_rules>
    <rule>Preserve cve variable naming conventions.</rule>
    <rule>Maintain tailwind v4 compatibility through tokenized variable output.</rule>
    <rule>Preserve theme injector and theme scope merge behavior.</rule>
  </mapping_rules>

  <validation>
    <rule>Validate incoming token shapes at boundaries.</rule>
    <rule>Do not bypass schema with unsafe casts.</rule>
    <rule>Keep generated css values injection-safe.</rule>
  </validation>

  <outputs>
    <output>Schema compatibility status.</output>
    <output>Variable mapping status.</output>
    <output>Mode and cascade compatibility.</output>
    <output>Required fixes.</output>
  </outputs>
</skill_contract>
